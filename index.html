<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mark Kaçinari - Kompozitor</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div class="wrapper">
      <nav class="menu-container">
        <div class="logo">
          <a href="/index.html">
            <h1>M.Kaçinari</h1>
          </a>
        </div>
        <ul>
          <li><a href="/biografia.html">Biografia</a></li>
          <li><a href="/veprimtaria.html">Veprimtaria</a></li>
          <li><a href="/mirenjohjet.html">Mirënjohjet</a></li>
        </ul>
      </nav>
      <div class="hero-container">
        <div class="left-hero-side">
          <img src="img/portrait.png" alt="portrait" />
        </div>
        <div class="right-hero-side">
          <span class="line"></span>
          <h2>Mark Kaçinari</h2>
          <p>Kompozitor, Pedagog, Dirigjent</p>
          <p>1935 - 1985</p>
          <a href="/biografia.html">
            <button>Lexo Biografin</button>
          </a>
        </div>
        <div class="test">
          <audio id="audio" src="/sound/sound.mp3" autoplay loop></audio>
          <canvas></canvas>
        </div>
        <!-- <div id="soundControl">
            <audio id="audioPlayer" src="/sound/sound.mp3" autoplay loop></audio>
            <button id="toggleButton"><img id="soundIcon" src="img/sound-waves.png" alt="Sound On"></button>
        </div> -->
        <div class="music-container">
          <audio src=""></audio>
        </div>
      </div>
      <div class="activity-container">
        <h2 class="title">Veprimtaria</h2>
        <div class="activity-carousel">
          <a href="#">
            <div class="item item-1">
              <div class="overlay-item">
                <h4>Bijtë e Shqipes</h4>
                <p>
                  Kantatë për kor mikst accapela botuar në Collegium Cantorum
                </p>
                <p>Prishtinë, 1971</p>
              </div>
            </div>
          </a>
          <a href="#">
            <div class="item item-2">
              <div class="overlay-item">
                <h4>Zogu i Ohrit</h4>
                <p>Përpunim për kor mikst botuar në LKSHM</p>
                <p>Prishtinë, 1966</p>
              </div>
            </div>
          </a>
          <a href="#">
            <div class="item item-3">
              <div class="overlay-item">
                <h4>Shamikuqja</h4>
                <p>
                  Kantatë për kor mikst accapela botuar në Collegium Cantorum
                </p>
                <p>Prishtinë, 1971</p>
              </div>
            </div>
          </a>
        </div>
        <button>Shiko Veprat</button>
      </div>
      <div class="activity-onl-container">
        <div class="bcg-line">
          <div class="line-item">
            <h1>10</h1>
            <span class="circle"></span>
            <p>Vepra Korale</p>
          </div>
          <div class="line-item">
            <h1>7</h1>
            <span class="circle"></span>
            <p>Muzik dhome dhe solistik</p>
          </div>
          <div class="line-item">
            <h1>5</h1>
            <span class="circle"></span>
            <p>Libra</p>
          </div>
        </div>
      </div>
      <div class="galery-container"></div>
      <div class="certifications-container">
        <h1 class="title">Mirënjohjet</h1>
        <div class="certf-wrapper">
          <div class="certf-item">
            <img src="img/conductor.png" alt="icon" />
            <h3>
              Shpërblim i dhënë nga Kuvendi i Komunës Prishtinë për përpjekje të
              jashtëzakonshme dhe rezultate të arritura në lëmin e muzikës
            </h3>
            <p>Nëntor 1971</p>
          </div>
          <div class="certf-item">
            <img src="img/note.png" alt="icon" />
            <h3>
              Shpërblim i dhënë nga Kuvendi i Komunës Prishtinë për përpjekje të
              jashtëzakonshme dhe rezultate të arritura në lëmin e muzikës
            </h3>
            <p>Nëntor 1971</p>
          </div>
          <div class="certf-item">
            <img src="img/classic.png" alt="icon" />
            <h3>
              Shpërblim i dhënë nga Kuvendi i Komunës Prishtinë për përpjekje të
              jashtëzakonshme dhe rezultate të arritura në lëmin e muzikës
            </h3>
            <p>Nëntor 1971</p>
          </div>
        </div>
        <button>Shiko Mirënjohjet</button>
      </div>
      <div class="music-symbol">
        <div class="pentagram-lines"></div>
        <div class="pentagram-lines"></div>
        <div class="pentagram-lines"></div>
        <div class="pentagram-lines"></div>
        <div class="pentagram-lines"></div>
        <img src="img/music-key.png" alt="musickey" class="musickey" />
      </div>
      <footer>
        <div class="logo-wrapper">
          <h1>M.Kaçinari</h1>
        </div>
        <div class="copyright-wrapper">
          <p>©2024</p>
        </div>
      </footer>
    </div>

    <script src="js/script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
    <script>
      
  const c = document.querySelector("canvas");
  const audio = document.querySelector("#audio");

  let opt = {
    width: c.offsetWidth,
    height: c.offsetHeight,
    midY: c.offsetHeight / 2,
    points: 80,
    stretch: 10,
    sinHeight: 0,
    speed: -0.1,
    strokeColor: "white",
    strokeWidth: 1.5,
    power: true, // Start animation by default
  };
  c.width = opt.width * 2;
  c.height = opt.height * 2;
  c.style.width = opt.width;
  c.style.height = opt.height;

  const ctx = c.getContext("2d");
  ctx.scale(2, 2);

  ctx.strokeStyle = opt.strokeColor;
  ctx.lineWidth = opt.strokeWidth;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";

  let time = 0;
  const render = () => {
    window.requestAnimationFrame(render);
    ctx.clearRect(0, 0, opt.width, opt.height);
    time += 1;
    ctx.beginPath();
    let increment = 0;

    for (i = 0; i <= opt.points; i++) {
      if (i < opt.points / 2) {
        increment += 0.1;
      } else {
        increment += -0.1;
      }

      const x = (opt.width / opt.points) * i;
      const y =
        opt.midY +
        Math.sin(time * opt.speed + i / opt.stretch) *
          opt.sinHeight *
          increment;
      ctx.lineTo(x, y);
    }

    ctx.stroke();
  };

  // Function to start the animation
  const startAnimation = () => {
    render(); // Start rendering animation
    audio.play(); // Start playing audio
    TweenMax.to(opt, 1, {
      sinHeight: 4,
      stretch: 5,
      ease: Power2.easeInOut,
    });
  };

  // Call startAnimation when the window finishes loading
  window.addEventListener("load", startAnimation);

  // Event listener for clicking on the canvas
  c.addEventListener("click", () => {
    opt.power = !opt.power; // Toggle animation state

    // If animation should be stopped
    if (!opt.power) {
      audio.pause(); // Pause audio
      TweenMax.to(opt, 1, {
        sinHeight: 0,
        stretch: 10,
        ease: Power3.easeOut,
      });
    } else {
      audio.play(); // Resume audio
      TweenMax.to(opt, 1, {
        sinHeight: 4,
        stretch: 5,
        ease: Power2.easeInOut,
      });
    }
  });
    </script>
  </body>
</html>
